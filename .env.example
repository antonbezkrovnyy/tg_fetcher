# Environment variables example for Telegram Fetcher Service
# Copy this file to .env and fill in your values

# === REQUIRED: Telegram API Credentials ===
# Get your API credentials from https://my.telegram.org/apps
TELEGRAM_API_ID=12345
TELEGRAM_API_HASH=abcdef1234567890abcdef1234567890
TELEGRAM_PHONE=+1234567890

# === REQUIRED: Sources to Fetch ===
# JSON array format (required by Pydantic Settings for list fields)
# Examples: ["@channel1","@channel2"] or ["https://t.me/channel1"]
TELEGRAM_CHATS=["@ru_python","@pythonstepikchat"]

# === Optional: Fetch Mode ===
# Options: yesterday (default), full, incremental, continuous, date, range
FETCH_MODE=yesterday

# For FETCH_MODE=date
# FETCH_DATE=2025-11-05

# For FETCH_MODE=range
# FETCH_START=2025-11-01
# FETCH_END=2025-11-05

# === Optional: Paths ===
DATA_DIR=./data
SESSION_DIR=./sessions
PROGRESS_FILE=progress.json

# === Optional: Multiple Credentials (Future Feature) ===
# Path to directory with multiple credential files
# TELEGRAM_CREDENTIALS_DIR=/secrets/telegram_creds

# === Optional: Rate Limiting ===
RATE_LIMIT_CALLS_PER_SEC=10.0
MAX_PARALLEL_CHANNELS=3

# === Optional: Retry Settings ===
MAX_RETRY_ATTEMPTS=3
RETRY_BACKOFF_FACTOR=2.0

# === Optional: Progress Reset ===
# Set to true to reset all progress
PROGRESS_RESET=false

# === Optional: Logging ===
LOG_LEVEL=INFO
LOG_FORMAT=json

# === Optional: Observability ===
ENABLE_METRICS=true
METRICS_PORT=9090
# LOKI_URL=http://loki:3100
